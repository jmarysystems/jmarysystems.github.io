<html>
    
    <head>
        
        <title></title>
        <meta charset="UTF-8">  
        
        <!-- <meta http-equiv="refresh" content=1;url="www.jmarysystems.com.br"> -->   
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0">    
        
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0000_01_dados_gerais.js'></script>
        
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0001_01_tabela_usuario_consultar_fazer_login_e_listar_contatos.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0001_02_tabela_usuario_cadastrar_consultar_usuario_antes_de_cadastrar.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0001_03_tabela_usuario_alterar.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0001_04_tabela_usuario_excluir.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0002_01_tabela_contato_consultar_e_cadastrar.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0002_02_tabela_contato_cadastrar_e_listar_contatos.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0002_03_tabela_contato_alterar.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0002_04_tabela_contato_excluir.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_01_listar_contatos.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_02_listar_contatos_verificar_se_o_contato_tem_imagem.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_03_listar_contatos_exibir_imagens_dos_contatos.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_04_registrar_mensagem_direita.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_05_registrar_mensagem_esquerda.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0004_01_enviar_mensagem.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_03_listar_contatos_escolha_01.js'></script>
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/0003_03_listar_contatos_percorer_todos.js'></script>
        
        <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/9999_1_utilitario_baixar_imagem.js'></script>
        
        <script type="text/javascript" src='../arquivos/js/jquery.js'></script>
        
        
        <!-- <script type="text/javascript" src='../arquivos/js/js_bate_papo_web/js_login_001.js'></script> --> 
       
        <style>          
        </style>
    </head>
    
    <body 
        style="background-color: #D3D3D3; width: 100%; height: 100%; padding: 0; margin: 0;
               font-family: Arial, Helvetica, sans-serif; font-size: 14px; color: black; line-height: 1.5;" > 
        
        <!-- <source src="../arquivos/sons/whatsapp001.mp3" type="audio/mpeg"> --> 
        <!-- <source src="../arquivos/sons/iphone_sms.mp3" type="audio/mpeg"> --> 
        <audio id="audio" controls style="display: none; padding: 0; margin: 0;"> 
            
            <source src="../arquivos/sons/minions.mp3" type="audio/mpeg">
        </audio>
 
<!-- 14 letras para o nome, nome do meio e último nome iphone_sms-->           
        <img id="img_conversa_user_logado" src="../arquivos/imagens/003_login/cleilson.jpg" alt="" width="50" height="50" style="display: none;" >
        
        <input type="hidden" id="usuario_logado" value="null"> 
        <input type="hidden" id="usuario_logado_id" value="null">
        <input type="hidden" id="usuario_logado_id_nome" value="null">
        <input type="hidden" id="usuario_logado_id_sobrenome" value="">
        <input type="hidden" id="usuario_logado_imagem" value="null">
        
        <input type="hidden" id="lista_de_contatos_input" value="null">
        <input type="hidden" id="lista_de_contatos_com_imagens_input" value="null">
        
        <input type="hidden" id="tabela_usuarios" value="null">
        <input type="hidden" id="tabela_imagens_dos_contatos" value="null">
        <input type="hidden" id="tabela_contatos" value="null">
        <input type="hidden" id="tabela_conversas" value="null">

<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### MENU INÍCIO #### --> 
<!-- 
-0
-1
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->   
<div id="topo_menu_xx" style="background-color: #3A3A3A; 
            width:            100%; 
            height:           50px; 
            padding:          0; 
            margin:           0;    
            z-index:200;
            position: relative;
            " >
    
<ul style="list-style:none; padding: 0px; margin: 0px; height: 100%; z-index:199;">
   
    
    
<!-- 
-0
-1
-2
 --> 
<!--- #### COLUNA 1 INÍCIO #### --> 
<!-- 
-0
-1
-2    
-->
    <li 
        style="
            height: 100%; float:    left;    position: relative; 
            width:  100%; overflow: visible;"
        
        onMouseover="
            this.style.backgroundColor='#23871C'; 
            this.style.color='#3A3A3A';  
            document.getElementById('coluna11tb').style.display = 'block'; "
            
        onMouseout="
            this.style.backgroundColor='#3A3A3A';                               
            document.getElementById('coluna11tb').style.display = 'none';  "
    >
        
        <a 
            id="cara_palida"
            href="login.html" 
            style="
                
                color:           #fff; font-family:  Arial, Helvetica, sans-serif; 
                font-size:       19px; padding-left: 10px; 
                padding-right:   10px; line-height:  50px; 
                text-decoration: none;"
           
            onMouseover=" this.style.color='black'; "
            onMouseout="  this.style.color='#fff'; "       
        > 
            -)-> CARA PÁLIDA <-(- </a>              
    </li>  
<!-- 
-0
-1
-2
- #### COLUNA 1 FIM #### --> 
<!-- 
-0
-1
-2    
-->


</ul>
</div>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### MENU FIM #### --> 
<!-- 
-0
-1
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 




    <script>
        var lista_de_contatos = "";
        var endereco_imagem_user_logado = "";
        var lista_de_contatos_com_imagens_x = "";











///////////////////////////////////////////////////////////////////////////////////////////////////////////  
//LISTAR CONTATOS 
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        

        function listar_contatos_um_por_um_mensagem(){
            
            try{
                /*setTimeout(function(){ 
                     document.getElementById("resposta").innerHTML = "<table border='0' cellpadding='0' cellspacing='0' style='width:100%;'> <tr><td style='width:30%;'> </td></tr>  <tr> <td align='center' style='width:40%;'> <img src='../arquivos/imagens/003_login/javafx-loading-100x100.gif' style='cursor: pointer; 'width='80' height='80'> </td> </tr> <tr><td style='width:30%;'> </td></tr> </table>";
                }, 0);*/
            
                setTimeout(function(){ 
                    var id_planilha = "1UHCZa_LGpJ1pnY4HI0DhuuaBpjtmpp_Hpih-q1BiFVk";
                    var key = "AIzaSyBwiMCywJRFQHuuksWdhqwjOrR5mDaWJYs";
                    /* Some tasks */ 
                    //var url = document.getElementById('url').value;
                    var url = "https://sheets.googleapis.com/v4/spreadsheets/"+ id_planilha +"/values/A:B?key=AIzaSyBwiMCywJRFQHuuksWdhqwjOrR5mDaWJYs";

                    var xhttp = new XMLHttpRequest();
                    xhttp.open("GET", url, false);

                    xhttp.send();//A execução do script para aqui até a requisição retornar do servidor

                    //document.getElementById("resposta").innerHTML = xhttp.responseText;
                    var mensagem = xhttp.responseText;
                    
                    ////////////////////////////////////////////////////////////
                    var tem_mensagem = false;
                    var linha_recebida = mensagem.split("@");
                    for( var i = 0; i < linha_recebida.length; i++ ) {
                        if( linha_recebida[i].includes("-") ){
                            tem_mensagem = true;
                            break;
                        }
                    }
                    ////////////////////////////////////////////////////////////
                                        
                    if( tem_mensagem === true ){

                        /*
                        setTimeout(function(){ 
                            img_perfil_003_tb_usuario_procurar_imagem_deste_contato( mensagem, 
                                web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome );
                                                            
                        }, 0);
                        */
                       
                        listar_contatos_um_por_um( mensagem );
                    }
                    else{
                        
                        /*
                        var imagem_Perfil = "../arquivos/imagens/003_login/cont.png";
                            
                            listar001(
                              "null",
                                imagem_Perfil, 
                                    web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome);
                        */
                    }
                }, 0);
            
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "fazerRequisicao -- " + Exception;
            }     
        }    
    
        
        function listar_contatos_um_por_um( mensagem ){
            
            try{
                
                var linha_recebida = lista_de_contatos.split("@");            
                for( var i = 0; i < linha_recebida.length; i++ ) {
                    if( linha_recebida[i].includes("-") ){
                        var web_id;
                        var web_comando;
                        var web_usuario_logado;
                        
                        var web_contato_email;
                        var web_contato_nome;
                        var web_contato_nome_meio;
                        var web_contato_ultimo_nome;

                        var argumentos = linha_recebida[i].split("j");
                        for( var j = 0; j < argumentos.length; j++ ) {
                            if(j === 0){ 
                                web_id = argumentos[j];
                            }
                            else if(j === 1){
                                web_comando = argumentos[j];
                            }
                            else if(j === 2){
                                web_usuario_logado = argumentos[j];
                            }
                            else if(j === 3){
                                web_contato_email = argumentos[j];
                            }
                            else if(j === 4){
                                web_contato_nome = argumentos[j];
                            }
                            else if(j === 5){
                                web_contato_nome_meio = argumentos[j];
                            }
                            else if(j === 6){
                                web_contato_ultimo_nome = argumentos[j];
                            }
                        }
                        
                        //
                        /*
                        img_perfil_001_tb_usuario_procurar_imagem_deste_contato(
                                    web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome);
                        */     
                       
                        img_perfil_003_tb_usuario_procurar_imagem_deste_contato( mensagem, 
                                web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome );
                    }
                }
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "listar_contatos_um_por_um -- " + Exception;
            }
            
            //GERAR TELAS DE CONVERSAS
            
        }
        
        
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
//PEGAR IMAGEM DO PERFIL
///////////////////////////////////////////////////////////////////////////////////////////////////////////                  
        function img_perfil_001_tb_usuario_procurar_imagem_deste_contato( 
                                    web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome ){
            
            try{
                /*setTimeout(function(){ 
                     document.getElementById("resposta").innerHTML = "<table border='0' cellpadding='0' cellspacing='0' style='width:100%;'> <tr><td style='width:30%;'> </td></tr>  <tr> <td align='center' style='width:40%;'> <img src='../arquivos/imagens/003_login/javafx-loading-100x100.gif' style='cursor: pointer; 'width='80' height='80'> </td> </tr> <tr><td style='width:30%;'> </td></tr> </table>";
                }, 0);*/
            
                setTimeout(function(){ 
                    var id_planilha = "1UHCZa_LGpJ1pnY4HI0DhuuaBpjtmpp_Hpih-q1BiFVk";
                    var key = "AIzaSyBwiMCywJRFQHuuksWdhqwjOrR5mDaWJYs";
                    /* Some tasks */ 
                    //var url = document.getElementById('url').value;
                    var url = "https://sheets.googleapis.com/v4/spreadsheets/"+ id_planilha +"/values/A:B?key=AIzaSyBwiMCywJRFQHuuksWdhqwjOrR5mDaWJYs";

                    var xhttp = new XMLHttpRequest();
                    xhttp.open("GET", url, false);

                    xhttp.send();//A execução do script para aqui até a requisição retornar do servidor

                    //document.getElementById("resposta").innerHTML = xhttp.responseText;
                    var mensagem = xhttp.responseText;
                    
                    ////////////////////////////////////////////////////////////
                    var tem_mensagem = false;
                    var linha_recebida = mensagem.split("@");
                    for( var i = 0; i < linha_recebida.length; i++ ) {
                        if( linha_recebida[i].includes("-") ){
                            tem_mensagem = true;
                            break;
                        }
                    }
                    ////////////////////////////////////////////////////////////
                                        
                    if( tem_mensagem === true ){
             /*           
                        var anterior = document.getElementById("ul_meus_contatos").innerHTML;
                            document.getElementById("ul_meus_contatos").innerHTML = anterior + 
                                    "<br>" +                                    
                                    "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" +
                                    "-------------------------------------------------------------------------------------" + "<br>" +
                                    importar_Para_Alfabeto_JM(web_usuario_logado).trim().toUpperCase() +
                                    "<br>" +
                                    "Contato Encontrado: " + importar_Para_Alfabeto_JM(web_contato_email).trim().toUpperCase(); 
*/
                        setTimeout(function(){ 
                            img_perfil_003_tb_usuario_procurar_imagem_deste_contato( mensagem, 
                                web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome );
                                                            
                        }, 0);
                    }
                    else{

                        var imagem_Perfil = "../arquivos/imagens/003_login/cont.png";
                            
                            listar001(
                              "null",
                                imagem_Perfil, 
                                    web_id,
                                        web_comando,
                                            web_usuario_logado,
                                                web_contato_email,
                                                    web_contato_nome,
                                                        web_contato_nome_meio,
                                                            web_contato_ultimo_nome);
                    }
                }, 0);
            
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "fazerRequisicao -- " + Exception;
            }     
        }
             
        
        
        
        
        function listar001(
                este_e_um_usuario_cara_palida,
            web_id_da_tb_usuario,
                imagem_Perfil, 
                    web_id,
                        web_comando,
                            web_usuario_logado,
                                web_contato_email,
                                    web_contato_nome,
                                        web_contato_nome_meio,
                                            web_contato_ultimo_nome){
            
            try{
                
                var nome_principal = "";   try{ nome_principal = converter_base64(web_contato_nome).trim(); }catch(Exception){}
                var nome_do_meio = "";     try{ nome_do_meio = converter_base64(web_contato_nome_meio).trim(); }catch(Exception){}
                var nome_ultimo_nome = ""; try{ nome_ultimo_nome = converter_base64(web_contato_ultimo_nome).trim(); }catch(Exception){}
                
                var imagem_src_data = imagem_Perfil;
                
                if( este_e_um_usuario_cara_palida === "sim" ){
                                                        
                    try{
                    
                        var imagem_src_data_web = baixar_imagem( web_id_da_tb_usuario );    
         
                        imagem_src_data = converter_base64( imagem_src_data_web );
                        
                        if ( imagem_src_data === undefined || imagem_src_data === "" || imagem_src_data === null){
                            
                            imagem_src_data = "../arquivos/imagens/003_login/cont.png";
                        }
                        
                        /*
                        var anterior = document.getElementById("ul_meus_contatos").innerHTML;
                            document.getElementById("ul_meus_contatos").innerHTML = anterior + 
                                    "<br>" +                                    
                                    "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" + "<br>" +
                                    "-------------------------------------------------------------------------------------" + "<br>" +
                                    "function listar001(" +
                                    "<br>" +
                                    "imagem_src_data: " + imagem_src_data;
                        */
                    }catch(Exception){}
                }
                
                if ( nome_do_meio === undefined || nome_do_meio === "" || nome_do_meio === null){
                            
                    nome_do_meio = "-";
                }
                if ( nome_ultimo_nome === undefined || nome_ultimo_nome === "" || nome_ultimo_nome === null){
                            
                    nome_ultimo_nome = "-";
                }
                
                //setTimeout(function(){    
                    //var nome_principal_mais_nome_do_meio = nome_principal + " " + nome_do_meio;
                    //criar_tela_de_conversa( web_id, web_contato_email, imagem_src_data, nome_principal, nome_principal_mais_nome_do_meio );
                //}, 0);
                                                
                var add =
                
"<li style=\"float: left; margin-left: 5px; background-color:#3A3A3A;\" " +
"            onMouseover=\"\n" +
"            this.style.backgroundColor='#23871C';\"  " +
"            " +
"            onMouseout=\"" +
"            this.style.backgroundColor='#3A3A3A'\"" +
"        > " +
"            " +

            "<input type=\"hidden\" id=\"" + "web_contato_id" + web_id + "\" value=\"" + web_id + "\">" +
            "<input type=\"hidden\" id=\"" + web_id + "\" value=\"" + imagem_src_data + "\">" +
            "<input type=\"hidden\" id=\"" + web_id + web_contato_email + "\" value=\"" + converter_base64(web_contato_email).trim() + "\">" +
            "<input type=\"hidden\" id=\"" + web_id + web_contato_nome + "\" value=\"" + nome_principal + "\">" +
            "<input type=\"hidden\" id=\"" + web_id + web_contato_nome_meio + "\" value=\"" + nome_do_meio + "\">" +
             
"                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">" +
"                    <tr> " +
"                        <td align=\"center\"> " +
"                            <img src='" + imagem_src_data + "' style='cursor: pointer;'" +
"                                onclick=\"abrir_conversa(" +
                                     "document.getElementById ('" + "web_contato_id" + web_id +      "').value," +
                                     "document.getElementById ('" + web_id +                         "').value," +
                                     "document.getElementById ('" + web_id + web_contato_email +     "').value," +
                                     "document.getElementById ('" + web_id + web_contato_nome +      "').value," +
                                     "document.getElementById ('" + web_id + web_contato_nome_meio + "').value" +
                                 ");\" " +
"                                title=\"" +  nome_principal  + "\" width=\"100\" height=\"100\">" +
"                        </td>    " +
"                    </tr>" +
"                    <tr> " +
"                        <td align=\"center\" style=\" padding: 0; color: #ffffff;\"> " +
"                            " + nome_principal +
"                        </td>    " +
"                    </tr> " +
"                    <tr> " +
"                        <td align=\"center\" style=\" padding: 0; color: #ffffff;\"> " +
"                            " + nome_do_meio  +
"                        </td>    " +
"                    </tr>" +
"                    <tr> " +
"                        <td align=\"center\" style=\" padding: 0; color: #ffffff;\"> " +
"                            " + nome_ultimo_nome  +
"                        </td>    " +
"                    </tr>" +
"                </table>" +
"        </li>";

                var anterior = document.getElementById("ul_meus_contatos").innerHTML;
                document.getElementById("ul_meus_contatos").innerHTML = anterior + add;
                
                //setTimeout(function(){    
                    var nome_principal_mais_nome_do_meio = nome_principal + " " + nome_do_meio;
                    criar_tela_de_conversa( web_id, web_contato_email, imagem_src_data, nome_principal, nome_principal_mais_nome_do_meio );
                //}, 0);
                                                                
            }catch(Exception){
                
                document.getElementById("ul_meus_contatos").innerHTML = "listar001 -- " + Exception;
            }     
        }
        
///////////////////////////////////////////////////////////////////////////////////////////////////////////
////CRIAR TELA DE CONVERSA 
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function criar_tela_de_conversa( web_id, web_contato_email, imagem_src_data, nome_principal, nome_principal_mais_nome_do_meio ){
            
            try{
                
                var add = 
"<div id='" + "contato" + web_id + "' style=\"display: none; padding: 0; margin: 0;\">" +   

/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////TELA INICIAL - INÍCIO   
///////////////////////////////////////////////////////////////////////////////////////////////////////////  
"<input type=\"hidden\" id='" + "img_conversa" + web_id + "input" + "' value=\"" + imagem_src_data + "\">" +
        
"<input type=\"hidden\" id='" + "msg_enviadas" + web_id + "input" + "' value=\"" + "0" + "\">" +

                "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%; padding: 0; margin: 0;\"> " +
"            <tr> " +
"                <td style=\"width:30%;\"> " +
"                " +
"                    <img id='" + "img_conversa" + web_id + "' src='" + imagem_src_data + "' alt=\"\" width=\"50\" height=\"50\">" +
"                </td>    " +
"            " +
"                <td align=\"center\" style=\"width:40%;\">" +
"                    <h1 id='" + "h1_conversa" + web_id + "' align=\"center\" style=\"font:bold 150% verdana,arial,helvetica;\"> " + nome_principal_mais_nome_do_meio + " </h1>" +
"                </td> " +
"            " +
"                <td style=\"width:30%;\">" +
"                    <input style=\"float: right; margin-top: 5px; cursor: pointer;\" " +
"                        type=\"button\" onclick=\"voltar_para_meus_contato();\" value=\"Voltar\">" +
"                </td>" +
"            <tr> " +
"        </table>" +
"    " +
"        <hr style=\"padding: 0; margin: 0;\">" +
"        " +

         "<input type=\"hidden\" id=\"" + "contador" + web_id + "\" value=\"" + "0" + "\">" +
         
         "<input type=\"hidden\" id=\"" + "escrever_mensagem" + web_id + "\" value=\"" + web_id + "\">" +
            
"        <div id='" + "botao_escrever_mensagem" + web_id + "' style=\"display: block; width:100%; padding: 0; margin: 0;\"> " +
"            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%; padding: 0; margin: 0;\"> " +
"                <tr> " +
"                    <td>" +
"                        <input style=\"float: right; margin-top: 5px; cursor: pointer;\" " +
"                            type=\"button\" onclick=\"escrever_mensagem( " + 
                                   "document.getElementById ('" + "escrever_mensagem" + web_id + "').value"
                             + " );\" value=\"Escrever Mensagem\">" +
"                    </td>" +
"                <tr> " +
"            </table>" +
"        </div>" +
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////TELA INICIAL - FIM   
///////////////////////////////////////////////////////////////////////////////////////////////////////////  

/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////CONVERSAS - INÍCIO   
///////////////////////////////////////////////////////////////////////////////////////////////////////////  
         "<div id='" + "div_todas_as_conversas" + web_id + "' style=\"display: block; padding: 0; margin: 0;\">"  +
 
             
         "</div>" +
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////CONVERSAS - FIM   
///////////////////////////////////////////////////////////////////////////////////////////////////////////  


/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////ESCREVER E ENVIAR MENSAGENS - INÍCIO   
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
"<div id='" + "div_enviar_conversa" + web_id + "' style=\"display: none; padding: 0; margin: 0;\">" +

"        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%;\"> " +
"            <tr> " +

"                    <td>" +
"                        <input style=\"float: right; margin-top: 5px; cursor: pointer;\" " +
"                            type=\"button\" onclick=\"voltar_para_todas_as_mensagem( " + 
                                   "document.getElementById ('" + "escrever_mensagem" + web_id + "').value"
                             + " );\" value=\"Cancelar Mensagem\">" +
"                    </td>" +
"            <tr> " +
"        </table>" +

"<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%;\"> " +

"    <tr>" +
"        <td style=\"background-color: #D3D3D3; width:20%;\"> </td>" +

"        <td align=\"center\" style=\"background-color: #D3D3D3; width:60%;\"> " + 

"            <a style=\"color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%; text-decoration: none;\"" +
"               onMouseover=\" this.style.color='#fff'; \"" +
"               onMouseout=\"  this.style.color='black'; \"       " +

"                NOVA MENSAGEM  " +
"            </a>" +

"        </td>" +

"        <td style=\"background-color: #D3D3D3; width:20%;\"> </td>" +
"    </tr> " +

"    <tr>" +
"        <td align=\"right\" style=\"background-color: #D3D3D3; width:20%; padding-right: 5px;\">" +

"            <img src=\"../arquivos/imagens/003_login/cara_palida.png\" alt=\"\" width=\"150\" height=\"150\">            " +
"        </td>" +

"        <td colspan=\"2\" style=\"background-color: #D3D3D3; width:60%; padding-right: 15px;\">" +

"            <div style=\"background-color: #3A3A3A; height:100%;   color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;\">" +

"                Escrever Aqui                 " +
"                <textarea id='" + "mensagem_a_enviar" + web_id + "' name=\"w3review\" rows=\"4\" cols=\"50\" style=\"background-color: #3A3A3A; width:100%; height: 100%; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;\">  </textarea>" +

"            </div>" +

"        </td>" +

"    </tr>     " +

"    <tr>" +
"        <td style=\"background-color: #D3D3D3; width:20%;\"> </td>" +

"        <td align=\"center\" style=\"background-color: #D3D3D3; width:60%;\"> " +

"            <img src=\"../arquivos/imagens/003_login/enviar.png\" " +
"                style=\"cursor: pointer; \"" +
"                alt=\"\" width=\"140\" height=\"50\"" +

"                onclick=\"enviar_mensagem(" + "document.getElementById ('" + "escrever_mensagem" + web_id + "').value," + "document.getElementById ( '" + "mensagem_a_enviar" + web_id + "' ).value );\">" +
"        </td>" +

"        <td style=\"background-color: #D3D3D3; width:20%;\"> </td>" +
"    </tr> " +
"</table>        " +
"    </div>" +
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//////ESCREVER E ENVIAR MENSAGENS - FIM   
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 

"</div>";
                
                var anterior = document.getElementById("div_conversa").innerHTML;
                document.getElementById("div_conversa").innerHTML = anterior + add;
                
                //setTimeout(function(){ 
                    //var contador = document.getElementById( "contador" + web_id ).value;
                    loop_controle( web_id, web_contato_email, nome_principal );
                //}, 0);                
                
            }catch(Exception){
                
                document.getElementById("ul_meus_contatos").innerHTML = "criar_tela_de_conversa -- " + Exception;
            }     
        }
        
        function loop_controle( web_id, web_contato_email, nome_principal ){
            setTimeout(function(){ 
                loadDoc( web_id, web_contato_email, nome_principal );
            }, 1000);
        }
        
        function loadDoc( web_id, web_contato_email, nome_principal ) {
            var id_planilha = "10n3TYa4DlEbwduXiXU94yY5tHeStfoFeeod6EO-ST_o";
            var url = "https://sheets.googleapis.com/v4/spreadsheets/"+ id_planilha +"/values/A:B?key=AIzaSyBwiMCywJRFQHuuksWdhqwjOrR5mDaWJYs";
            
            try{
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState === 4 && this.status === 200) {
                        //document.getElementById("demo").innerHTML = this.responseText;
                        loop( this.responseText, web_id, web_contato_email, nome_principal );
                    }
                };
                xhttp.open("GET", url, true);
                //xhttp.open("GET", url, false);
                xhttp.send();
            }catch(Exception){                
            }
            finally {   
                
                loop_controle( web_id, web_contato_email );
            }
        }
                
     







  















///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function voltar_para_contatos(){
            
            try{
                
                document.getElementById("resposta").style.display = 'none'; 
                document.getElementById("div_meus_contatos").style.display = 'block'; 
                document.getElementById("div_novo_usuario").style.display = 'none'; 
                document.getElementById("div_add_contato").style.display = 'none'; 
            
                document.getElementById("div_conversa").style.display = 'none';
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "novo_usuario -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function novo_usuario(){
            
            try{
                
                try{ imgXX = "null"; /* <--- data: base64*/ }catch(Exception){}
                
                document.getElementById("resposta").style.display = 'none'; 
                document.getElementById("div_meus_contatos").style.display = 'none'; 
                document.getElementById("div_novo_usuario").style.display = 'block'; 
                document.getElementById("div_add_contato").style.display = 'none'; 
            
                document.getElementById("div_conversa").style.display = 'none';
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "novo_usuario -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function novo_contato(){
            
            try{
                
                document.getElementById("resposta").style.display = 'none'; 
                document.getElementById("div_meus_contatos").style.display = 'none'; 
                document.getElementById("div_novo_usuario").style.display = 'none'; 
                document.getElementById("div_add_contato").style.display = 'block'; 
            
                document.getElementById("div_conversa").style.display = 'none';
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "novo_contato -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function voltar_para_meus_contato(){
            
            try{
                
                document.getElementById("resposta").style.display = 'none'; 
                document.getElementById("div_meus_contatos").style.display = 'block'; 
                document.getElementById("div_novo_usuario").style.display = 'none'; 
                document.getElementById("div_add_contato").style.display = 'none'; 
                
                document.getElementById("div_conversa").style.display = 'none'; 
            
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "voltar_para_meus_contato -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////////////   
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
        var email_do_contato_atual_selecionado = "";
        function abrir_conversa( web_contato_id, img, web_contato_email, web_contato_nome, web_contato_nome_meio ){
            
            try{
                
                document.getElementById("resposta").style.display = 'none'; 
                document.getElementById("div_meus_contatos").style.display = 'none'; 
                document.getElementById("div_novo_usuario").style.display = 'none'; 
                document.getElementById("div_add_contato").style.display = 'none'; 
                
                document.getElementById("div_conversa").style.display = 'block'; 
                
                //botao_escrever_mensagem
                document.getElementById("botao_escrever_mensagem").style.display = 'block';
                document.getElementById("div_enviar_conversa").style.display = 'none';
                document.getElementById("div_todas_as_conversa").style.display = 'block';
                document.getElementById("mensagem_a_enviar").value = "";
                
                email_do_contato_atual_selecionado = web_contato_email;
                           
                fechar_todas_as_telas( web_contato_id );
                conversa_dados( web_contato_id, img, web_contato_email, web_contato_nome, web_contato_nome_meio );
            
            }catch(Exception){
                
                document.getElementById("div_conversa").innerHTML = "abrir_conversa -- " + Exception;
            }     
        }
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
////fechar todas as telas  
///////////////////////////////////////////////////////////////////////////////////////////////////////////

        function fechar_todas_as_telas( web_contato_id ){
            
            try{
                
                var linha_recebida = lista_de_contatos.split("@");            
                for( var i = 0; i < linha_recebida.length; i++ ) {
                    if( linha_recebida[i].includes("-") ){
                        var web_id;
                        var web_comando;
                        var web_usuario_logado;
                        
                        var web_contato_email;
                        var web_contato_nome;
                        var web_contato_nome_meio;
                        var web_contato_ultimo_nome;

                        var argumentos = linha_recebida[i].split("j");
                        for( var j = 0; j < argumentos.length; j++ ) {
                            if(j === 0){ 
                                web_id = argumentos[j];
                            }
                            else if(j === 1){
                                web_comando = argumentos[j];
                            }
                            else if(j === 2){
                                web_usuario_logado = argumentos[j];
                            }
                            else if(j === 3){
                                web_contato_email = argumentos[j];
                            }
                            else if(j === 4){
                                web_contato_nome = argumentos[j];
                            }
                            else if(j === 5){
                                web_contato_nome_meio = argumentos[j];
                            }
                            else if(j === 6){
                                web_contato_ultimo_nome = argumentos[j];
                            }
                        }
                        
                        document.getElementById( "contato" + web_id ).style.display = 'none';
                        
                    }
                }
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "listar_contatos_um_por_um -- " + Exception;
            }
            
            //GERAR TELAS DE CONVERSAS
            
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
//fechar todas as telas
///////////////////////////////////////////////////////////////////////////////////////////////////////////          

///////////////////////////////////////////////////////////////////////////////////////////////////////////   
//img_conversa / h1_conversa / ul_conversa
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function conversa_dados(web_contato_id, img, web_contato_email33, web_contato_nome33, web_contato_nome_meio33 ){
            
            try{
                
                //document.getElementById("img_conversa" + img ).src = img;
                //document.getElementById("h1_conversa" + img ).innerHTML = web_contato_nome33 + " " + web_contato_nome_meio33;
          
                document.getElementById( "contato" + web_contato_id ).style.display = 'block';

            
            }catch(Exception){
                
                document.getElementById("div_conversa").innerHTML = "contato" + web_contato_id + "<br>" + "conversa_dados -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function escrever_mensagem( web_id ){
            try{
                
                //document.getElementById("div_conversa").innerHTML = web_id;
                
                ///*                
                document.getElementById( "div_enviar_conversa" + web_id ).style.display = 'block';
                document.getElementById( "div_todas_as_conversas" + web_id ).style.display = 'none';
                document.getElementById( "botao_escrever_mensagem" + web_id ).style.display = 'none';
                //*/
            }catch(Exception){
                
                document.getElementById("div_conversa").innerHTML = "abrir_conversa -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////        
        function voltar_para_todas_as_mensagem( web_id ){
            try{
                
                //document.getElementById("div_conversa").innerHTML = web_id;
                
                ///*                
                document.getElementById( "div_enviar_conversa" + web_id ).style.display = 'none';
                document.getElementById( "div_todas_as_conversas" + web_id ).style.display = 'block';
                document.getElementById( "botao_escrever_mensagem" + web_id ).style.display = 'block';
                //*/
                
            }catch(Exception){
                
                document.getElementById("div_conversa").innerHTML = "voltar_para_todas_as_mensagem -- " + Exception;
            }     
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////////////   
//GERAR TELAS DE CONVERSAS
/////////////////////////////////////////////////////////////////////////////////////////////////////////// 
//  
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
//GERAR TELAS DE CONVERSAS
///////////////////////////////////////////////////////////////////////////////////////////////////////////   




///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////
        function preview_image(input) {
            
            try{
                
                ///001 txt////////////////////////
                var file = input.files[0];
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function(event){
                        /////////////////////////////////////////////////////////////
                        var output = document.getElementById('output_image');
                        //output.src = URL.createObjectURL( file );
                        ////////////////////////////////////////////////////////////
                        
                        ////////////////////////////////////////////////////////////
                        var text = reader.result;
                        //document.getElementById("div_novo_usuario").innerHTML = text;
                        ////////////////////////////////////////////////////////////
                        
                        ////////////////////////////////////////////////////////////
                        const blob = new Blob( [text],{type: file.type } );
                        console.log(blob);
                        const url = URL.createObjectURL(blob);
                        
                        let img = new Image()
                        img.onload = () => {
                            URL.revokeObjectURL(url)
                            resolve(img)
                        }
                        img.src = url;
                        output.src = url;
                        ////////////////////////////////////////////////////////////
                        
                        
                    };
                    reader.readAsText( file );
                }
                ///001 txt////////////////////////
                
                ///002 blob////////////////////////                
                //let blob = new Blob([new Uint8Array( file )], {type: file.type });
                //console.log(blob);
                //let text = blob.text();
                //document.getElementById("div_novo_usuario").innerHTML = text;
                ///002 blob////////////////////////
            
            }catch(Exception){
                
                document.getElementById("div_novo_usuario").innerHTML = "preview_image -- " + Exception;
            } 
        }
///////////////////////////////////////////////////////////////////////////////////////////////////////////   
///////////////////////////////////////////////////////////////////////////////////////////////////////////








        
    
        function Bate_Papo_Web_0005_Separando_por_Linha_as_Mensagens(mensagem){
            
            try{
                                                
                var sb = "";
            
                var str = mensagem.split("@");
            
                for( var i = 0; i < str.length; i++ ) {

                    if( str[i].includes("-") ){
                    
                        //sb.push( str[i] );
                        //sb.push( "\n" );
                        sb += str[i];
                        sb += "\n";
                        verificando_linha( str[i] );
                    }
                }
                
                var txt = sb.replace("\n","<br>");
            
                //document.getElementById("resposta").innerHTML = txt;
                //verificano_linha( sb.toString() );
                
            }catch(Exception){
                
                document.getElementById("resposta").innerHTML = "Bate_Papo_Web_0005_Separando_por_Linha_as_Mensagens -- " + Exception;
            }
        }
        
        function verificando_linha(linha_recebida){
            
            try{
                //document.getElementById("resposta").innerHTML = linha_recebida;

                document.getElementById("resposta").innerHTML = 
                        "<ul id=\"ul_resposta\" style=\"list-style:none; padding: 0px; margin: 0px;\"> </ul>";                

                var usuario;
                var senha;
                var argumentos = linha_recebida.split("j");
                for( var i = 0; i < argumentos.length; i++ ) {
                    
                    if(i === 0){
                        usuario = argumentos[i];
                    }
                    else if(i === 1){
                        senha = argumentos[i];
                    }
                    
                    //var dados_anteriores = document.getElementById("ul_resposta").innerHTML;
                    
                    //var temp = "<li>" + argumentos[i] + "</li>";
                    
                    //document.getElementById("ul_resposta").innerHTML = dados_anteriores + temp;
                }
                
                transformando_para_txt( usuario, senha );
                                
            }catch(Exception){
                
                document.getElementById("resposta").innerText = "verificando_linha -- " + Exception;
            }
        }
        
        function transformando_para_txt( usuario, senha ){
            
            try{
                
                //var temp = "<li>" + usuario + "</li>";
                //var temp2 = "<li>" + senha + "</li>";                
                //document.getElementById("ul_resposta").innerHTML = temp + temp2;
                
                var usuario_txt = "<li>" + importar_Para_Alfabeto_JM(usuario) + "</li>";
                var senha_txt = "<li>" + importar_Para_Alfabeto_JM(senha) + "</li>";
                
                document.getElementById("ul_resposta").innerHTML = usuario_txt + senha_txt;
                                
            }catch(Exception){
                
                document.getElementById("resposta").innerText = "transformando_para_txt -- " + Exception;
            }
        }
        
        
        
    </script>
        
        
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### LOGIN INÍCIO #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 
<div id="resposta" style="padding: 0; margin: 0;">
<br>
<table id="centrot" border="0" cellpadding="0" cellspacing="0" style="width:100%;"> 
    
    <tr>
        <td style="background-color: #D3D3D3; width:30%;"> </td>
        
        <td align="center" style="background-color: #D3D3D3;"> 
            
            <a style="color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%; text-decoration: none;"
               onMouseover=" this.style.color='#fff'; "
               onMouseout="  this.style.color='black'; "       
               > 
                LOGIN 
            </a>
            
        </td>
        
        <td style="background-color: #D3D3D3; width:30%;"> </td>
    </tr> 
    
    <tr>
        <td align="right" style="background-color: #D3D3D3; width:30%; padding-right: 5px;">
            
            <img src="../arquivos/imagens/003_login/cara_palida.png" alt="" width="150" height="150">            
        </td>
        
        <td style="background-color: #D3D3D3; width:40%;">
            
            <div style="background-color: #3A3A3A; height:50px;   color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                
                Usuário: 
                <input id="form_login_login" name="login" type="text" style="background-color: #3A3A3A; width:100%; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
            </div>
            
            <br>
            
            <div style="background-color: #3A3A3A; height:50px;   color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                
                Senha: 
                <input id="form_login_senha" name="senha" type="password" style="background-color: #3A3A3A; width:100%; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
            </div>
            
        </td>
        
        <td style="background-color: #D3D3D3; width:30%;">
            
               
        </td>
    </tr>     
    
    <tr>
        <td style="background-color: #D3D3D3; width:30%;"> </td>
        
        <td align="center" style="background-color: #D3D3D3;"> 
            
            <img src="../arquivos/imagens/003_login/logo2.png" 
                style="cursor: pointer; "
                onclick="inicioTabelaLogin(
                    document.getElementById ('form_login_login').value,
                    document.getElementById ('form_login_senha').value,
                    document.getElementById ('resposta').innerHTML
                );" alt="" width="140" height="50">
            
            <input style="float:right; margin-top: 5px; cursor: pointer;" 
                   type="button" onclick="novo_usuario();" value="Novo Cara Pálida">
        </td>
        
        <td style="background-color: #D3D3D3; width:30%;"> </td>
    </tr> 
    
</table>
</div>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### LOGIN FIM #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->  

    
    
    
    
    

    
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### NOVO_USUÁRIO INÍCIO #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 
<div id="div_novo_usuario" style="display: none; padding: 0; margin: 0; width:100%; height: 100%;">
    
<ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >    
    
    <li align="center"  style="padding: 0px; margin: 0px; width:100%; color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;">
        <a style="color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%; text-decoration: none;"
            onMouseover=" this.style.color='#fff'; "
            onMouseout="  this.style.color='black'; "       
        > 
            Novo Usuário Cara Pálida
        </a>
    </li> 

    <li>     
        <table id="tb_novo_usuario" border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">     
            <tr>
                <td align="center" style="background-color: #D3D3D3; width:100%;">
                    
                    <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >   
                        
                        <li style="">
                            <img id="output_image" src="../arquivos/imagens/003_login/cara_palida.png" alt="" width="150" height="150"> 
                        </li>
                        
                        <li style="">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Email ou (DDD + Telefone):
                                            </li>
                                            <li style="">
                                                <input id="form_novo_login" name="login" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Senha:
                                            </li>
                                            <li style="">
                                                <input id="form_novo_senha" name="senha" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Nome:
                                            </li>
                                            <li style="">
                                                <input id="form_novo_nome" name="nome" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Email de Recuperação da Senha:
                                            </li>
                                            <li style="">
                                                <input id="form_novo_recuperacao" name="nome" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <!--
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0; ">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Endereço Web Imagem Perfil:
                                            </li>
                                            <li style="">
                                                <input id="form_novo_imagem" name="nome" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >

                                            <li style="">
                                                <img src="../arquivos/imagens/003_login/logo2.png" 
                                                    style="cursor: pointer; "
                                                    onclick="inicioCadastrarTabelaLogin(
                                                        document.getElementById ('form_novo_login').value,
                                                        document.getElementById ('form_novo_senha').value,
                                                        document.getElementById ('form_novo_nome').value,
                                                        document.getElementById ('form_novo_recuperacao').value,
                                                        document.getElementById ('form_novo_imagem').value,
                                                        document.getElementById ('resposta').innerHTML );"
                                                    alt="" width="140" height="50">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        -->
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0; ">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Escolher Imagem do Perfil:
                                            </li>
                                            <li style="">
                                                <input id="form_novo_imagem" type="file" onchange="encodeImageFileAsURL();" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 90%;" >
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >

                                            <li style="">
                                                <img src="../arquivos/imagens/003_login/logo2.png" 
                                                    style="cursor: pointer; "
                                                    onclick="inicioCadastrarTabelaLogin(
                                                        document.getElementById ('form_novo_login').value,
                                                        document.getElementById ('form_novo_senha').value,
                                                        document.getElementById ('form_novo_nome').value,
                                                        document.getElementById ('form_novo_recuperacao').value,
                                                        document.getElementById ('form_novo_imagem').src,
                                                        document.getElementById ('resposta').innerHTML );"
                                                    alt="" width="140" height="50">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                    </ul>                                          
                </td>                  
            </tr>        
        </table>       
    </li> 
</ul>
</div>    

<script type='text/javascript'>
    
    var imgXX = "null"; // <--- data: base64
    
  function encodeImageFileAsURL() {

    var filesSelected = document.getElementById("form_novo_imagem").files;
    if (filesSelected.length > 0) {
      var fileToLoad = filesSelected[0];

      var fileReader = new FileReader();

      fileReader.onload = function(fileLoadedEvent) {
        var srcData = fileLoadedEvent.target.result; // <--- data: base64
        imgXX = srcData;

        var newImage = document.createElement('img');
        newImage.src = srcData;

        document.getElementById("output_image").src = srcData;
        //alert("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
        //console.log("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
      }
      fileReader.readAsDataURL(fileToLoad);
    }
  }
</script>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### NOVO_USUÁRIO FIM #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->  











<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### MEUS CONTATOS INÍCIO #### --> 
<!-- 
-0
-1 
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->     
<div id="div_meus_contatos" style="display: none; padding: 0; margin: 0;">
    
    <table border="0" cellpadding="0" cellspacing="0" style="width:100%;"> 
        <tr> 
            <td style="width:30%;"> </td>
            
            <td align="center" style="width:40%;">
                <h1 align="center" style="font:bold 150% verdana,arial,helvetica;"> MEUS CONTATOS </h1>
            </td> 
            
            <td style="width:30%;">
                <input style="float:right; margin-top: 5px; cursor: pointer;" 
                   type="button" onclick="novo_contato();" value="Adicionar Contato Cara Pálida">
            </td>
        <tr> 
    </table>
    
    <ul id="contato_tabela_xy_01" style="background-color: #D3D3D3; list-style:none; line-height: 1.5; padding: 0px; margin: 0px;" >
    </ul>   
    
    <ul id="ul_meus_contatos" style="background-color: #D3D3D3; list-style:none; line-height: 1.5; padding: 0px; margin: 0px;" >
        
<!-- CONTEÚDO INÍCIO --------------------------------------------------------------------------------->                      
        <li style="float: left; background-color:#3A3A3A;" 
            onMouseover="
            this.style.backgroundColor='#23871C';"  
            
            onMouseout="
            this.style.backgroundColor='#3A3A3A'"
        > 
            
                <table cellpadding="0" cellspacing="0" border="0">
                    <tr> 
                        <td align="center"> 
                            <img src="../arquivos/imagens/003_login/cleilson.jpg" 
                                style="cursor: pointer; "
                                onclick="verificaString();" 
                                title="Cleilson Henrique" width="100" height="100">
                        </td>    
                    </tr>
                    <tr> 
                        <td align="center" style=" padding: 0; color: #ffffff;"> 
                            Cleilson
                        </td>    
                    </tr> 
                    <tr> 
                        <td align="center" style=" padding: 0; color: #ffffff;"> 
                            Henrique
                        </td>    
                    </tr>
                    <tr> 
                        <td align="center" style=" padding: 0; color: #ffffff;"> 
                            de Araujo
                        </td>    
                    </tr>
                </table>
        </li>
<!-- CONTEÚDO FIM ---------------------------------------------------------------------------------> 
        
    </ul>
</div>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### MEUS CONTATOS FIM #### --> 
<!-- 
-0
-1
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 










<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### ADICIONAR_CONTATO INÍCIO #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 
<div id="div_add_contato" style="display: none; padding: 0; margin: 0; width:100%; height: 100%;">
    
<ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >    
    
    <li align="center"  style="padding: 0px; margin: 0px; width:100%; color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;">
        <a style="color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%; text-decoration: none;"
            onMouseover=" this.style.color='#fff'; "
            onMouseout="  this.style.color='black'; "       
        > 
            Adicionar Amigo(a) Cara Pálida
        </a>
    </li> 

    <li>     
        <table id="tb_add_contato" border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">     
            <tr>
                <td align="center" style="background-color: #D3D3D3; width:100%;">
                    
                    <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >   
                        
                        <li style="">
                            <img src="../arquivos/imagens/003_login/cara_palida.png" alt="" width="150" height="150"> 
                        </li>
                        
                        <li style="">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Email ou (DDD + Telefone):
                                            </li>
                                            <li style="">
                                                <input id="form_add_contato_email" name="add_contato_email" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li> 
                        
                        <li style="">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Nome do(a) Cara Pálida:
                                            </li>
                                            <li style="">
                                                <input id="form_add_contato_nome" name="add_contato_nome" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                        <li style="">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Nome do Meio ou Empresa:
                                            </li>
                                            <li style="">
                                                <input id="form_add_contato_nome_meio" name="add_contato_nome_meio" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                        <li style="">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >
                                            <li style="width:100%; background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                                                Último Nome ou Função:
                                            </li>
                                            <li style="">
                                                <input id="form_add_contato_ultimo_nome" name="add_contato_ultimo_nome" type="text" style="background-color: #3A3A3A; height: 50px; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;" value="">
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                        <li style="padding-top: 5px; ">
                            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;">
                                <tr>
                                    <td align="center">
                                        <ul style="list-style:none; padding: 0px; margin: 0px; width:100%;" >

                                            <li style="">
                                                <img src="../arquivos/imagens/003_login/logo2.png" 
                                                    style="cursor: pointer; "
                                                    onclick="consultar_contato_antes_de_cadastrar_001(
                                                        document.getElementById ('form_add_contato_email').value,
                                                        document.getElementById ('form_add_contato_nome').value,
                                                        document.getElementById ('form_add_contato_nome_meio').value,
                                                        document.getElementById ('form_add_contato_ultimo_nome').value,
                                                        document.getElementById ('div_add_contato').innerHTML );"
                                                    alt="" width="140" height="50">
                                                
                                                <input style="float:right; margin-top: 5px; cursor: pointer;" 
                                                       type="button" onclick="voltar_para_contatos();" value="Voltar"> 
                                            </li>
                                        </ul>                                                                         
                                    </td>
                                </tr>
                            </table> 
                        </li>
                        
                    </ul>                                          
                </td>                  
            </tr>        
        </table>       
    </li> 
</ul>
</div>    
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### ADICIONAR_CONTATO FIM #### --> 
<!-- 
-0
-1             
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 













<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### CONVERSA INÍCIO #### --> 
<!-- 
-0
-1 
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->     
<div id="div_conversa" style="display: none; padding: 0; margin: 0;">
<div id="oculto" style="display: none; padding: 0; margin: 0;">
        
        <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;"> 
            <tr> 
                <td style="width:30%;"> 
                
                    <img id="img_conversa" src="../arquivos/imagens/003_login/cleilson.jpg" alt="" width="50" height="50">
                </td>    
            
                <td align="center" style="width:40%;">
                    <h1 id="h1_conversa" align="center" style="font:bold 150% verdana,arial,helvetica;"> MEUS CONTATOS </h1>
                </td> 
            
                <td style="width:30%;">
                    <input style="float: right; margin-top: 5px; cursor: pointer;" 
                        type="button" onclick="voltar_para_meus_contato();" value="Voltar">
                </td>
            <tr> 
        </table>
    
        <hr style="padding: 0; margin: 0;">
        
        <div id="botao_escrever_mensagem" style="display: block; width:100%; padding: 0; margin: 0;"> 
            <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding: 0; margin: 0;"> 
                <tr> 
                    <td style="">
                        <input style="float: right; margin-top: 5px; cursor: pointer;" 
                            type="button" onclick="escrever_mensagem();" value="Escrever Mensagem">
                    </td>
                <tr> 
            </table>
        </div>
        
    <div id="div_todas_as_conversa" style="display: block; padding: 0; margin: 0;">    
             
        <!-- CONVERSA RECEBIDA - INÍCIO -->
        <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding-top: 5px;"> 
            <tr> 
                
                <td style="background-color: #D3D3D3; width:70%;">
            
                    <div style="background-color: #3A3A3A; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                
                        <label style="float: left; padding: 0px; margin: 0px;"> Usuário: </label> 
                        <table border="0" cellpadding="0" cellspacing="0" style="background-color: #3A3A3A; width:100%; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;"> 
                            <tr> 
                                
                                <td>
                                    <img src="../arquivos/imagens/003_login/cleilson.jpg" alt="" width="50" height="50">
                                </td>
                                
                                <td style="padding-left: 5px;">
                                    Bom dia! segue o resumo por setor e listagem  dos produtos armazenados e não expostos 
                                    Recebidos ontem 17/07/20.
                                </td>
                            </tr> 
                        </table>    
                    </div>
            
                </td>
                
                <td style="float: left; width:30%;"> 

                </td>   
 
            </tr> 
        </table>
        <!-- CONVERSA RECEBIDA - FIM -->
        
        
        <!-- CONVERSA ENVIADA - INÍCIO -->
        <table border="0" cellpadding="0" cellspacing="0" style="width:100%; padding-top: 5px;"> 
            <tr> 
                <td style="float: right; width:30%;"> 

                </td>    
                
                <td style="background-color: #D3D3D3; width:70%;">
            
                    <div style="background-color: #EDECEC; color:#000; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                
                        <label style="float: right; padding: 0px; margin: 0px;"> Usuário: </label> 
                        <table border="0" cellpadding="0" cellspacing="0" style="background-color: #EDECEC; width:100%; color: #000; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;"> 
                            <tr> 
                                                                
                                <td style="padding-left: 5px;">
                                    Bom dia! segue o resumo por setor e listagem  dos produtos armazenados e não expostos 
                                    Recebidos ontem 17/07/20.
                                </td>
                                
                                <td>
                                    <img src="../arquivos/imagens/003_login/cleilson.jpg" alt="" width="50" height="50">
                                </td>
                            </tr> 
                        </table>    
                    </div>
            
                </td>
                
            </tr> 
        </table>
        <!-- CONVERSA ENVIADA - FIM -->
        
    </div>   
    
    
    
    
    

    
    
    <div id="div_enviar_conversa" style="display: none; padding: 0; margin: 0;">
        
        <table border="0" cellpadding="0" cellspacing="0" style="width:100%;"> 
            <tr> 
            
                <td style="">
                    <input style="float: right; margin-top: 5px; cursor: pointer;" 
                        type="button" onclick="voltar_para_todas_as_mensagem();" value="Cancelar Mensagem">
                </td>
            <tr> 
        </table>
        
<table border="0" cellpadding="0" cellspacing="0" style="width:100%;"> 
    
    <tr>
        <td style="background-color: #D3D3D3; width:20%;"> </td>
        
        <td align="center" style="background-color: #D3D3D3; width:60%;"> 
            
            <a style="color:black; font-family:  Arial, Helvetica, sans-serif; font-size: 150%; text-decoration: none;"
               onMouseover=" this.style.color='#fff'; "
               onMouseout="  this.style.color='black'; "       
               > 
                NOVA MENSAGEM  
            </a>
            
        </td>
        
        <td style="background-color: #D3D3D3; width:20%;"> </td>
    </tr> 
    
    <tr>
        <td align="right" style="background-color: #D3D3D3; width:20%; padding-right: 5px;">
            
            <img src="../arquivos/imagens/003_login/cara_palida.png" alt="" width="150" height="150">            
        </td>
        
        <td colspan="2" style="background-color: #D3D3D3; width:60%; padding-right: 15px;">
            
            <div style="background-color: #3A3A3A; height:100%;   color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 120%;">
                
                Escrever Aqui                 
                <textarea id="mensagem_a_enviar" name="w3review" rows="4" cols="50" style="background-color: #3A3A3A; width:100%; height: 100%; color:#fff; font-family:  Arial, Helvetica, sans-serif; font-size: 150%;">  </textarea>
                
            </div>
            
        </td>

    </tr>     
    
    <tr>
        <td style="background-color: #D3D3D3; width:20%;"> </td>
        
        <td align="center" style="background-color: #D3D3D3; width:60%;"> 
            
            <img src="../arquivos/imagens/003_login/enviar.png" 
                style="cursor: pointer; "
                alt="" width="140" height="50"
                
                onclick="enviar_mensagem( document.getElementById ('mensagem_a_enviar').value );">
        </td>
        
        <td style="background-color: #D3D3D3; width:20%;"> </td>
    </tr> 
    
</table>        
    </div>  

</div>
</div>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
-0
-1
-2
- #### CONVERSA FIM #### --> 
<!-- 
-0
-1
-2    
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--> 



    </body>
</html>
